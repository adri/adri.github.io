---
layout: post
title: "Elixir side-project #2: Plan recipes with a supermarket API"
summary: Learnings from my side-project #2 written in Elixir using GraphQL.
categories: elixir, side-project, graphql, react, next.js
image: https://cloud.githubusercontent.com/assets/133832/21369161/f3b8dae6-c705-11e6-8f9e-2195ebb85a95.png
published: false
---

I had a lot of fun learning Elixir during my [last side-project](/post/learning-elixir-first-side-project). For the last 1.5 years I'm working with GraphQL APIs. Now I wanted to learn **how to build GraphQL APIs with Elixir**. For me it was clear: I needed another side-project.

![Elixir](https://cloud.githubusercontent.com/assets/133832/21369161/f3b8dae6-c705-11e6-8f9e-2195ebb85a95.png)

I was looking for a problem with a small domain but with some complexity. The idea was born to speed up our grocery shopping by ordering recipes and their ingredients via a supermarket API. 

### Planning Recipes with a Supermarket API
A few months ago we changed our grocery shopping habits. Instead of going to a store a few times a week, we now order ingredients via an app and get them delivered the next day. Usually we order two times a week. When ordering, we plan what we are going to eat in the next 3-4 days.  
 
Every time when we ordered we thought of recipes to cook and their ingredients and then added every ingredient to the app. We also added essential ingredients like milk or eggs if we needed them. 

What was important for us:
* use all food to avoid food waste
* always have the essentials 
* prefer cooking over ready-made meals
* reduce the time it takes to order 

### Picape


1. Recipes  
A list of recipes that can be planned. Those recipes have ingredients. When a recipe is planned, their ingredients get added automatically to the cart via the supermarket API.
2. Essentials  
Some ingredients should not be added automatically to the cart because they are always in stock. These are ingredients like herbs, milk products and frozen goods. Instead: if a recipe needs an essential, those should be highlighted only.
3. Ingredients  
Every ingredient is mapped to a product in the supermarket API. Choosing a specific product and naming it reduces friction. E.g. I just order "tomato sauce" and don't think "which tomato sauce did I choose again?". 
4. Order 
A list of ingredients that have been added to cart and for which recipe they are planned. Payment happens via the app itself not via Picape.


- Picnic: Supermarket API 
https://www.picnic.nl/
- How Picnic changed our lives
- Plan recipes with Picnic API
- Goals
	- essentials
	- sync with order
	- manage recipes and ingredients 
- GraphQL with Elixir 
	- batching
	- async
	- Phoenix 1.3 contexts
	- Parallel testing
- Frontend for elixir 
	- Separate deployment vs complexity 
	- start next.js process with elixir
	- proxy requests 

---- 
