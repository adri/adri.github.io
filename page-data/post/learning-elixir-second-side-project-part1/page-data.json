{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/post/learning-elixir-second-side-project-part1","result":{"data":{"post":{"__typename":"MdxPost","slug":"/post/learning-elixir-second-side-project-part1","title":"Learning Elixir: My side-project","date":"2017-07-06","tags":null,"description":null,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"Learning Elixir: My side-project\",\n  \"slug\": \"/post/learning-elixir-second-side-project-part1\",\n  \"summary\": \"Learnings from starting on a side-project written in Elixir.\",\n  \"categories\": \"elixir, side-project\",\n  \"image\": \"https://cloud.githubusercontent.com/assets/133832/21369161/f3b8dae6-c705-11e6-8f9e-2195ebb85a95.png\",\n  \"published\": true,\n  \"date\": \"2017-07-06T00:00:00.000Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I believe that to really learn a programming language, I have to get involved in a project. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/post/why-elixir-has-great-potential\"\n  }), \"Getting an overview of the Elixir language\"), \" was great. But to be able to learn about the details of Elixir and its ecosystem I needed a side-project.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cloud.githubusercontent.com/assets/133832/21369161/f3b8dae6-c705-11e6-8f9e-2195ebb85a95.png\",\n    \"alt\": \"Elixir\"\n  }))), mdx(\"p\", null, \"Like many developers who want to learn a new technology, I searched for a problem to solve.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If all you have is a hammer, everything looks like a nail.\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Abraham_Maslow\"\n  }), \"Abraham Maslow\"))), mdx(\"p\", null, \"I had to find a nail for this new hammer. Luckily there was a need at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.ticketswap.com\"\n  }), \"my work\"), \" for a planning poker tool that is integrated with Jira and works well with remote developers.\"), mdx(\"h3\", null, \"Estimations for Remote Teams\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Planning_poker\"\n  }), \"Planning poker\"), \" is a estimation technique used in agile software development. Usually this is done with physical paper cards. In a remote-friendly environment, physical cards are not always useful.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://user-images.githubusercontent.com/133832/27869515-7a4468ca-61a0-11e7-9224-41365fd9e8ce.png\",\n    \"alt\": \"Real paper cards used for planning poker\"\n  })), \"\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Planning_poker#/media/File:CrispPlanningPokerDeck.jpg\"\n  }), \"Source: Wikipedia\")), mdx(\"p\", null, \"At work we used the web-based tool \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.planitpoker.com\"\n  }), \"PlanITpoker\"), \" for a while but we missed an integration with Jira, our issue tracker. We also had some issues with people joining twice, when using the tool at the same time on the phone and on the notebook.\"), mdx(\"p\", null, \"To me this sounded like a nice challenge for learning Elixir. The challange involved \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"presence detection\"), \" of team members, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"synchronising estimations\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"using external APIs\"), \". I found my nail!\"), mdx(\"h3\", null, \"The Plan\"), mdx(\"p\", null, \"Everything was geared towards the specific use-case we have. Learning Elixir was the focus, the product was secondary. I wanted to implement the following functionality.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Import stories from Jira.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Estimate. This involves estimations by the team members and a moderator handling those.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Saving estimations as \\\"story points\\\" in Jira.\")), mdx(\"h3\", null, \"How does it look like?\"), mdx(\"p\", null, \"I wanted to spend as little time as possible on the user interface. This meant for me using a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.creative-tim.com/product/paper-kit\"\n  }), \"template\"), \" and hacking the needed Javascript. This is how step 1 \\\"Import stories from Jira\\\" looks like:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"71.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/svg+xml,%3csvg%20xmlns=\\\\'http://www.w3.org/2000/svg\\\\'%20width=\\\\'400\\\\'%20height=\\\\'285\\\\'%20viewBox=\\\\'0%200%20400%20285\\\\'%20preserveAspectRatio=\\\\'none\\\\'%3e%3cpath%20d=\\\\'M2%203l2%201%205%201v2c-2%202-2%203%200%203l1%201-2%201c-2%200-3%201-3%202%200%203%201%203%202%202h2l1-1h9c2%200%202%200%201%201s-1%201%201%201c2-1%203%200%201%201-2%202-5%202-7%201-2-2-3%200-1%201v2l-1-1-1-1c-1%201-2%200-2-1l-2-2v2c2%203%201%204-1%204-3%200-5%202-5%205%200%202%200%203%201%202l1-2-1%205c-1%201%200%201%204%201%206%200%207%200%206-6l1-2%201%204%201%202h1l-1%201c-1%201%200%201%201%201l5-2c3-2%202-3-1-1-2%201-3%200-3-4%201-2%201-2%202-1%202%202%202%202%204-1l3-1%201%202%203%201c2%202%202%202%204%200s3-2%203%200c1%202%201%202%203%201h1l-1%203-2-1-4-2%201%202c1%201%201%201-2%202l-3%202h7a13326%2013326%200%2000196-2c-2-1-2-1-1-2v-2l-1-2%202%201c3%202%204%202%202%200v-2l1%201%205-1h5v2h1c1-2%203%200%203%203%200%202-1%203-3%201l-2-1c-1%202%203%204%206%204s3%200%202-1c-2%200-2-1-1-1l1-2%201-2c1-1%201%200%201%201-1%205%200%205%206%205l5-1v-2l1-2-1-4c0-2-1-2-3-2l-4-1%201-2%201-1c0-3-2-2-3%200%200%201-1%202-2%201v1c2%201%201%203-1%202v-3c0-2%200-2-1-1l-1%202c0%202-3%202-4%201v-1l2-1-1-1c-1%201-5-1-5-2l2-1h1c-1-1-1-1%201-1l3%201v1h1l3-2h3l2%201c1%201%202%201%202-1s-1-3-3-3-3-3%200-4l-1-2V5a124%20124%200%20008-1c3%200%204%200%203-1h-18l-3-1c-1%200-2%200-1%201l-1%201-1-1h-4l-17-1c-10%200-16%200-15%201l-1%201-1-1A2214%202214%200%200024%203h-2l-1%201V3h-6L9%202%202%203m273%200c-3%201-3%202%201%202h9l5-1c5%201%205%201%206%204%200%204%200%204-2%204s-3%201-3%202c0%203%201%203%202%202h2l1-1h9c2%200%202%200%201%201s-1%201%201%201c2-1%203%200%201%202h-4v1c2%202%202%203-1%203l-1-1c1-1%200-2-1-3-2-2-3%200-1%201v2l-1-1v1l-1%201-2-3-1-3v3c0%203%200%203-3%203s-3%200-4%204l1%204v2c-1%201%200%201%204%201%206%200%208-2%206-6l1-2%201%204%201%202v1c-1%201-1%201%201%201l5-2c3-2%202-3-1-1-2%201-4%200-2-2v-2l1-1%201%201c0%201%202%200%203-2l3-1c0%202%204%203%205%202l2-1v2l-2%201%203-1c2-2%202-2%203%200s1%202%202%201c2-1%202-1%202%201-1%204-1%204-3%201-3-2-5-3-3%200%201%201%201%201-2%202l-3%202h81V3h-5a956%20956%200%2000-92%200h-26m74%2010c-3%202-3%205-1%209%201%203%202%203%206%203h5l2%201h3l5-1c8%200%2011-10%203-13-5-2-20-1-23%201m-73%200l3%201%202%201h-1l-2%201-2%201-2%202c1%201-1%204-2%203l-1%201c0%202%202%202%203%200h2l2%202c2%200%202%200-1%201-2%202-3%203-3%205s0%202%201%201h3c1%201%201%201-1%201h-2l2%201h7l1-5c0-4-1-6-2-7v-2l3-3%203-3%201-1h-14M36%20106c-3%203-3%207%201%2010%202%202%204%202%2019%202%2019%200%2022-1%2022-7s-2-7-22-7c-17%200-18%200-20%202\\\\'%20fill=\\\\'%23d3d3d3\\\\'%20fill-rule=\\\\'evenodd\\\\'/%3e%3c/svg%3e')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/3d76194dc0351958d84619eb4bbbabbd/cbea2/elixir-estimator.webp 240w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/42669/elixir-estimator.webp 480w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/10c02/elixir-estimator.webp 960w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/fead5/elixir-estimator.webp 1440w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/7e36f/elixir-estimator.webp 1920w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/bbd3f/elixir-estimator.webp 2185w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/3d76194dc0351958d84619eb4bbbabbd/5243c/elixir-estimator.png 240w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/ab158/elixir-estimator.png 480w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/7d769/elixir-estimator.png 960w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/87339/elixir-estimator.png 1440w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/88b03/elixir-estimator.png 1920w\", \"/static/3d76194dc0351958d84619eb4bbbabbd/2a5a0/elixir-estimator.png 2185w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/3d76194dc0351958d84619eb4bbbabbd/7d769/elixir-estimator.png\",\n    \"alt\": \"Backlog imported from Jira\",\n    \"title\": \"Backlog imported from Jira\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"Step 2 \\\"Estimate\\\" and step 3 \\\"Saving estimations in Jira\\\" is best shown in a short video. Here you can see an estimation of one story from the perspective of a moderator:\"), mdx(\"div\", {\n    className: \"video-container\"\n  }, mdx(\"iframe\", {\n    width: \"560\",\n    height: \"315\",\n    src: \"https://www.youtube.com/embed/uEaGnlmUaWE\",\n    frameBorder: \"0\",\n    allowFullScreen: true\n  })), mdx(\"br\", null), mdx(\"p\", null, \"The video shows: The moderator has selected a story to estimate. All team members see the same story description. Team members are giving their estimation by choosing a card for the estimated effort: XS, S, M, L or XL. When all team members have given their estimation, the results are shown and the moderator can save an estimation.\"), mdx(\"h3\", null, \"What I learned so far\"), mdx(\"p\", null, \"Learning a new language through a side-project works well for me. I get energy from learning and it is motivating to create something useful.\"), mdx(\"p\", null, \"The complete source code can be found \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/adri/estimator-elixir\"\n  }), \"on Github\"), \". I like to share my learnings.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Jira API\"), mdx(\"br\", null), \"\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/edgurgel/httpoison\"\n  }), \"HTTPoison\"), \" makes creating API clients in Elixir easier. I like the concept of using adapters to external APIs. Using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/edgurgel/httpoison#wrapping-httpoisonbase\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"HTTPoison.Base\")), \" allows this in a concise manner. An example:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-elixir\"\n  }), \"defmodule Jira.API do\\n  use HTTPoison.Base\\n\\n  def process_url(url) do\\n    Application.get_env(:jira, :host) <> url\\n  end\\n\\n  def process_response_body(body) do\\n    Poison.decode!(body)\\n  end\\n\\n  def backlog(board_id) when is_integer(board_id) do\\n    get!(\\\"/rest/agile/1.0/board/#{board_id}/backlog\\\").body\\n  end\\nend\\n\")), mdx(\"p\", null, \"Using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Jira.API.backlog/1\"), \" returns the response of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/rest/agile/1.0/board/#{board_id}/backlog\"), \" endpoint. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"backlog\"), \" function is then used in the rest of the code. This allows easy mocking in automated tests.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Caching\"), mdx(\"br\", null), \"\\nTo not overload the Jira API with unnecessary requests I wanted to cache the backlog and allow users to invalidate this cache if needed. I made this work by using the library \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/sasa1977/con_cache\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"con_cache\")), \".\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"27.500000000000004%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/svg+xml,%3csvg%20xmlns=\\\\'http://www.w3.org/2000/svg\\\\'%20width=\\\\'400\\\\'%20height=\\\\'111\\\\'%20viewBox=\\\\'0%200%20400%20111\\\\'%20preserveAspectRatio=\\\\'none\\\\'%3e%3cpath%20d=\\\\'M267%2035c-13%201-15%202-15%203l2%201c15-4%2044-5%2060-3%2015%202%2022%203%2022%205h5c2-1%202-1-1-3-1-2-3-2-3-1h-4c-16-4-47-5-66-2M15%2040c-3%203-3%208%200%2011%203%202%203%202%2023%202s20%200%2023-2c3-4%203-7%200-11-3-2-3-2-23-2s-21%200-23%202\\\\'%20fill=\\\\'%23d3d3d3\\\\'%20fill-rule=\\\\'evenodd\\\\'/%3e%3c/svg%3e')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/ee60138a69a0e45e528b4784fdda1412/cbea2/elixir-estimator-caching.webp 240w\", \"/static/ee60138a69a0e45e528b4784fdda1412/42669/elixir-estimator-caching.webp 480w\", \"/static/ee60138a69a0e45e528b4784fdda1412/10c02/elixir-estimator-caching.webp 960w\", \"/static/ee60138a69a0e45e528b4784fdda1412/fead5/elixir-estimator-caching.webp 1440w\", \"/static/ee60138a69a0e45e528b4784fdda1412/7e36f/elixir-estimator-caching.webp 1920w\", \"/static/ee60138a69a0e45e528b4784fdda1412/71394/elixir-estimator-caching.webp 1946w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/ee60138a69a0e45e528b4784fdda1412/5243c/elixir-estimator-caching.png 240w\", \"/static/ee60138a69a0e45e528b4784fdda1412/ab158/elixir-estimator-caching.png 480w\", \"/static/ee60138a69a0e45e528b4784fdda1412/7d769/elixir-estimator-caching.png 960w\", \"/static/ee60138a69a0e45e528b4784fdda1412/87339/elixir-estimator-caching.png 1440w\", \"/static/ee60138a69a0e45e528b4784fdda1412/88b03/elixir-estimator-caching.png 1920w\", \"/static/ee60138a69a0e45e528b4784fdda1412/7e8fb/elixir-estimator-caching.png 1946w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/ee60138a69a0e45e528b4784fdda1412/7d769/elixir-estimator-caching.png\",\n    \"alt\": \"Backlog refresh\",\n    \"title\": \"Backlog refresh\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \"), \"\\nThe implementation was surprisingly concise:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-elixir\"\n  }), \"def backlog(board_id) do\\n  ConCache.get_or_store(:jira_backlog, board_id, fn() -> API.backlog(board_id) end)\\nend\\n\\ndef invalidate_backlog(board_id) do\\n  ConCache.delete(:jira_backlog, board_id)\\nend\\n\")), mdx(\"p\", null, \"When working with NodeJS or PHP I would have eventually used Redis or Memcached for this. Thanks to using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://erlang.org/doc/man/ets.html\"\n  }), \"ETS (Erlang Term Storage)\"), \" under the hood, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"con_cache\"), \" is already a good enough implementation.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Phoenix Presence\"), mdx(\"br\", null)), mdx(\"img\", {\n    \"src\": \"https://user-images.githubusercontent.com/133832/27869498-69e461ec-61a0-11e7-975b-823c96f476d9.png\",\n    \"title\": \"Synchronised list of team members\",\n    \"style\": {\n      \"maxWidth\": \"250px\",\n      \"cssFloat\": \"right\"\n    }\n  }), mdx(\"p\", null, \"Team\", \"\\xA0\", \"members should be able to join and leave an estimation session. The state of team members should be synchronised across devices. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hexdocs.pm/phoenix/Phoenix.Presence.html\"\n  }), \"Phoenix Presence\"), \" was a perfect tool for this.\"), mdx(\"p\", null, \"Implementing Presence was straight forward. There are \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.google.com/search?q=phoenix+presence+example\"\n  }), \"many examples\"), \" available. Doing presence detection with NodeJS would be totally possible. What makes Phoenix Presence so \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://dockyard.com/blog/2016/03/25/what-makes-phoenix-presence-special-sneak-peek\"\n  }), \"special\"), \" is that it synchronises presence information between multiple Erlang nodes automatically, without a central data store and with strong eventual consistency (CRDT).\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Phoenix Channels\"), mdx(\"br\", null), \"\\nDuring estimation sessions I wanted to have all information synchronised between team members. When a moderator selects a story to estimate, the description of the story should be shown for every team member. When a team member votes, it should be visible immediately.\"), mdx(\"p\", null, \"I used \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://socket.io\"\n  }), \"socket.io\"), \" for soft-realtime communication in other projects before. Programming with Phoenix Channels felt very similar to that. The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.phoenixframework.org/docs/channels\"\n  }), \"Phoenix documentation\"), \" has a great walkthrough how to implement Phoenix Channels.\"), mdx(\"p\", null, \"In following example of a new vote coming in, I store the vote and then broadcast the new vote to all other team members.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-elixir\"\n  }), \"def handle_in(\\\"vote:new\\\", message, socket) do\\n  {:ok, vote} = Votes.insert_vote(%{\\n    topic: socket.topic,\\n    user_id: socket.assigns.user[\\\"id\\\"],\\n    issue_key: message[\\\"issue_key\\\"],\\n    vote: message[\\\"vote\\\"],\\n  })\\n\\n  broadcast! socket, \\\"vote:new\\\", VoteView.render(\\\"vote.json\\\", vote)\\n\\n  {:noreply, socket}\\nend\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GitHub login\"), mdx(\"br\", null), \"\\nFor logging in team members I used Github. This had the added benefit of having an avatar and a name. After a bit of research I found \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ueberauth/ueberauth\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"ueberauth\")), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ueberauth/ueberauth_github\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"ueberauth_github\")), \".\"), mdx(\"p\", null, \"I had some troubles understanding how to use the library. When I found out how to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/adri/estimator-elixir/blob/1d1eb74ce464a359b089f095f09bf49f41b426ea/lib/estimator/web/controllers/auth_controller.ex#L20\"\n  }), \"implement the auth callbacks\"), \" it went well.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Deployment\"), mdx(\"br\", null), \"\\nFor me it was the first time using Heroku. I like that Heroku provides a free plan for side-projects. Following the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.phoenixframework.org/docs/heroku\"\n  }), \"instructions in the Phoenix documentation\"), \" got my Elixir app deployed in no time and without hassle. I have also setup the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://devcenter.heroku.com/articles/github-integration\"\n  }), \"Github integration\"), \" to auto-deploy when pushing to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"master\"), \" branch.\"), mdx(\"h3\", null, \"What's next?\"), mdx(\"p\", null, \"Using Elixir has been fun. I'm far from being done learning about it. My ideas what to look into:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Explore how to do automated testing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Refactor the Elixir code\\n\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \" Think about code structure and runtime concerns. The article \", mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"http://theerlangelist.com/article/spawn_or_not\"\n  }), \"to spawn, or not to spawn?\"), \" by Sa\\u0161a Juri\\u0107 is a great resource\\n\"), \" Use \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/rrrene/credo\"\n  }), \"Credo\"), \", a static code analyzer\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Try \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://absinthe-graphql.org\"\n  }), \"Absinthe\"), \" (GraphQL) with subscriptions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Try adding optional types and check them via \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/jeremyjh/dialyxir\"\n  }), \"dialyxir\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"CI setup\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Refactor the frontend using React (maybe)\")), mdx(\"p\", null, \"The complete source code can be found \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/adri/estimator-elixir\"\n  }), \"on Github\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"I believe that to really learn a programming language, I have to get involved in a project.  Getting an overview of the Elixir language  was…","timeToRead":4,"banner":null}},"pageContext":{"slug":"/post/learning-elixir-second-side-project-part1","formatString":"YYYY-MM-DD"}},"staticQueryHashes":["318001574","3787687951","3787687951"]}